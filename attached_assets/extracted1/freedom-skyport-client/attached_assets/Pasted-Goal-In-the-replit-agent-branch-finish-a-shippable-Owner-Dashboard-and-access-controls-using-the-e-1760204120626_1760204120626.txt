Goal: In the replit-agent branch, finish a shippable Owner Dashboard and access controls using the existing Vite SPA + Neon + Drizzle + Replit OIDC stack. Keep behavior of the original “Quick Actions” but move those actions inside one “Your Aircraft” card on the main dashboard. Add minimal tests.

Repo assumptions
	•	Client at client/ (Vite + React + TS)
	•	Server at server/ (Express or similar)
	•	Drizzle models already defined for profiles/aircraft/service requests/etc.
	•	Replit OIDC auth already wired (server/replitAuth.ts)

⸻

1) UI: Single “Your Aircraft” Card on Dashboard

Create/Update: client/src/pages/Dashboard.tsx (or the current Dashboard entry)
	•	Render one Card titled “Your Aircraft” with:
	•	Aircraft summary: tail_number, make/model, base_airport, membership snippet.
	•	Two primary buttons inside the card:
	1.	Prepare Aircraft for Flight
	2.	Request Service
	•	These two buttons must call the same handlers/routes that the previous “Quick Actions” used. Do not change handler signatures or URLs; import and reuse the old client-side action functions.
	•	Show success toast and a deep-link to the created record page (same as before).
	•	On the main dashboard, remove/comment out all other boxes (Upcoming Reservations, Maintenance Due, Consumables, Pilot Currency, Insurance, Payment Methods, Support Tickets). Keep those on a separate More page.

Create/Update: client/src/pages/More.tsx
	•	Render the previously existing boxes as separate sections with their existing empty states.

⸻

2) Keep old functionality (wire to existing handlers)

Confirm and reuse the previous action creators:
	•	Prepare Aircraft for Flight → calls the legacy readiness/create flow (creates a readiness_tasks row and any required service_requests rows).
	•	Request Service → calls the legacy service_requests create route with status='new'.

If these client helpers don’t exist yet, implement tiny wrappers that POST to the existing server endpoints without changing server route names.

⸻

3) Server: Auth & Access Control (Owner scoping)

Update: server/replitAuth.ts
	•	Export getSessionUser(req): { id: string; role: 'owner'|'cfi'|'admin' }.

Enforce owner scoping in every read/write for owner-visible data:
	•	Files likely:
	•	server/routes/serviceRequests.ts
	•	server/routes/readiness.ts
	•	server/routes/aircraft.ts
	•	Pattern: